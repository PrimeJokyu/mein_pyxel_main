# 第 1 回：Pyxel の基礎とビジュアル表現

**～ゲームを作る第一歩！図形と文字でプログラミングの世界へ～**

## 🎯 今日のゴール

- Pyxel でプログラムが動く仕組みを理解する
- いろいろな図形や文字を画面に表示できるようになる
- 変数を使って動的な表現ができるようになる
- 最後に「マイプロフィールカード」を作成する

---

## 📚 1. Pyxel って何？

**Pyxel（ピクセル）** は、python の中でも、ゲームを作る関連のプログラミングデータをまとめて、誰でも使えるようにしたもの。

---

## 🔧 2. まずは書いてみよう

1. pyxel をインポートして使えるようにする

```python
import pyxel

```

2. コメントを書こう
   「#」を書くと、その右側はメモとして記載できる（プログラミングとして認識しないようにできる）

```python
# 「#」の右側はコメントとして自由に記載できる。メモを書いてもエラーにならない。

```

3. ゲーム画面のサイズを決めて表示しよう

以下のコードを「import pyxel」の下に追加しよう
「#」から始まるコメント部分は書かなくて OK！

```python
# 画面サイズを決める
pyxel.init(幅, 高さ)

# 🔄 更新処理（ゲームのルール・動きを管理）
def update():
    pass # 何もしない

# 🎨 描画処理（画面に絵を描く）
def draw():
    # ここに処理を書いていく

# ▶️ ゲーム開始
pyxel.run(update, draw)
```

※「pyxel.init」とは pyxel の中の init という関数を実行するという意味。こんなふうに pyxel の中のさまざまな機能を使用できる。

### 💡 補足ポイント

pyxel.run で、自分で決めた２つの関数を実行している。

- `update()`: ゲームの状態を更新（キー入力、移動など）
- `draw()`: 画面に絵を描画（図形、文字など）

---

## 📐 3. 座標系を理解しよう

Pyxel の画面は **座標** で管理されています。

```
(0,0) ────→ X軸
│
│
│
↓
Y軸
```

### 座標の特徴

- **左上が原点** (0, 0)
- **右に行くほど X が増加**
- **下に行くほど Y が増加** (数学の座標とは異なるので注意)

Q. サイズを自由に決めて画面を表示してみよう。

---

## 🎨 4. 16 色パレットを覚えよう

Pyxel で使える色は 16 色：

| 番号 | 色名       | 説明             |
| ---- | ---------- | ---------------- |
| 0    | 黒         | 背景色によく使う |
| 1    | 濃い青     | 夜空、深海       |
| 2    | 濃い紫     | 神秘的な表現     |
| 3    | 濃い緑     | 森、草           |
| 4    | 茶色       | 土、木           |
| 5    | 濃いグレー | 岩、建物         |
| 6    | 薄いグレー | 雲、コンクリート |
| 7    | 白         | 雪、光           |
| 8    | 赤         | 火、血、情熱     |
| 9    | オレンジ   | 夕日、炎         |
| 10   | 黄色       | 太陽、光         |
| 11   | 緑         | 植物、自然       |
| 12   | 青         | 空、水           |
| 13   | インディゴ | 夜、宇宙         |
| 14   | ピンク     | 花、かわいい物   |
| 15   | ピーチ     | 肌色、暖かい色   |

---

## 🔺 5. 図形描画をマスターしよう

### 5-1. 画面のクリア

```python
pyxel.cls(色番号)  # 画面を指定した色で塗りつぶす
```

### 5-2. 基本図形

#### ⬛ 四角形（矩形）

```python
pyxel.rect(x, y, 幅, 高さ, 色)        # 塗りつぶし
pyxel.rectb(x, y, 幅, 高さ, 色)       # 枠だけ（bはborder）
```

#### ⭕ 円

```python
pyxel.circ(中心x, 中心y, 半径, 色)      # 塗りつぶし
pyxel.circb(中心x, 中心y, 半径, 色)     # 枠だけ（bはborder）
```

#### 🔺 三角形

```python
pyxel.tri(x1, y1, x2, y2, x3, y3, 色)      # 塗りつぶし
pyxel.trib(x1, y1, x2, y2, x3, y3, 色)     # 枠だけ（bはborder）
```

#### 📏 線・点

```python
pyxel.line(開始x, 開始y, 終了x, 終了y, 色)  # 直線
pyxel.pix(x, y, 色)                       # 1ピクセルの点
```

### 💡 実践例：簡単なキャラクター

```python
import pyxel

pyxel.init(160, 120)

def update():
    pass

def draw():
    pyxel.cls(12)  # 青い背景

    # 顔（円）
    pyxel.circ(80, 60, 20, 15)  # ピーチ色の顔
    pyxel.circb(80, 60, 20, 0)      # 黒い輪郭

    # 目
    pyxel.circ(75, 55, 3, 0)    # 左目
    pyxel.circ(85, 55, 3, 0)    # 右目

    # 口
    pyxel.line(75, 65, 85, 65, 8)   # 赤い口

pyxel.run(update, draw)
```

---

## ✏️ 6. 文字表示をマスターしよう

### 基本的な文字表示

```python
pyxel.text(x, y, 文字列, 色)
```

### 応用テクニック

#### 変数を使った動的表示

```python
name = "太郎"
age = 15
score = 1250

pyxel.text(10, 10, f"名前: {name}", 7)
pyxel.text(10, 20, f"年齢: {age}歳", 7)
pyxel.text(10, 30, f"スコア: {score}点", 10)
```

---

## 💾 7. 変数を活用しよう

### 色や位置を変数で管理

```python
import pyxel

# 変数の定義
bg_color = 1        # 背景色
face_x = 80         # 顔のX座標
face_y = 60         # 顔のY座標
face_color = 15     # 顔の色

pyxel.init(160, 120)

def update():
    pass

def draw():
    pyxel.cls(bg_color)  # 変数を使って背景色を設定

    # 変数を使って顔を描画
    pyxel.circfill(face_x, face_y, 20, face_color)
    pyxel.circb(face_x, face_y, 20, 0)

pyxel.run(update, draw)
```

### 計算を使った配置

```python
# 画面中央を計算で求める
center_x = 160 // 2  # 80
center_y = 120 // 2  # 60

# 等間隔の配置
for i in range(5):
    x = 20 + i * 30  # 20, 50, 80, 110, 140
    pyxel.circfill(x, 60, 8, i + 8)
```

---

## 🎨 8. 実習課題：「マイプロフィールカード」を作ろう！

### 課題内容

自分のプロフィールを図形と文字で表現したカードを作成しましょう。

### 必須要素

1. **個人情報の表示**

   - 名前（またはニックネーム）
   - 年齢
   - 好きなもの・趣味

2. **視覚的表現**

   - 最低 5 色を使用
   - 10 種類以上の図形を配置
   - 背景色の設定

3. **変数の活用**
   - 色、位置、サイズの一部を変数で管理
   - 計算を使った配置

### 作成のヒント

#### ステップ 1：設計を考える

- 画面のどこに何を配置するか紙に描いてみる
- 使いたい色を決める
- どんな図形で何を表現するか考える

#### ステップ 2：基本構造を作る

```python
import pyxel

# 変数定義
name = "あなたの名前"
age = 15
hobby = "プログラミング"

pyxel.init(160, 120)

def update():
    pass

def draw():
    pyxel.cls(12)  # 背景色

    # ここに図形と文字を描く

pyxel.run(update, draw)
```

#### ステップ 3：図形で装飾

```python
# タイトル装飾
pyxel.rect(10, 10, 140, 20, 14)  # ピンクの背景
pyxel.text(15, 15, "My Profile Card", 0)

# 自分を表現する図形（例：好きな動物、趣味など）
# 猫が好きな場合
pyxel.circ(30, 50, 15, 7)    # 顔
pyxel.tri(22, 42, 30, 35, 38, 42, 0)  # 耳

# 情報表示
pyxel.text(60, 50, f"Name: {name}", 7)
pyxel.text(60, 60, f"Age: {age}", 7)
pyxel.text(60, 70, f"Hobby: {hobby}", 7)
```

### 完成例のアイデア

- **スポーツ好き**: ボールやコートを図形で表現
- **音楽好き**: 音符や楽器を図形で表現
- **動物好き**: 好きな動物を図形で表現
- **食べ物好き**: 好きな食べ物を図形で表現

---

## 🏆 9. チェックポイント

作成した作品について、以下を確認してみましょう：

### ✅ 基本機能チェック

- [ ] プログラムが正常に実行される
- [ ] 名前、年齢、趣味が表示されている
- [ ] 背景色が設定されている

### ✅ 技術要素チェック

- [ ] 5 色以上を使用している
- [ ] 10 種類以上の図形を使用している
- [ ] 変数を使って値を管理している
- [ ] 文字と図形のバランスが取れている

### ✅ 創造性チェック

- [ ] 自分らしい表現ができている
- [ ] 色の組み合わせがきれい
- [ ] 図形の配置に工夫がある
- [ ] 見やすく整理されている

---

## 📝 10. まとめ

### 今日学んだこと

- Pyxel の基本構造（init, update, draw, run）
- 座標系の仕組み
- 16 色パレットの活用
- 基本図形の描画方法
- 文字表示と変数の活用

### 覚えておきたいポイント

- `update()`と`draw()`は毎秒 60 回実行される
- 座標は左上が原点(0,0)
- 変数を使うとプログラムが管理しやすくなる

---

## 🔧 付録：便利なコードスニペット

### よく使う図形パターン

```python
# 家の形
pyxel.rect(50, 70, 40, 30, 4)    # 家の土台
pyxel.tri(50, 70, 70, 50, 90, 70, 8)  # 屋根
pyxel.rect(60, 80, 8, 15, 0)     # ドア

# 花の形
pyxel.circ(80, 60, 8, 14)       # 中心
pyxel.circ(72, 60, 5, 10)       # 左の花びら
pyxel.circ(88, 60, 5, 10)       # 右の花びら
pyxel.circ(80, 52, 5, 10)       # 上の花びら
pyxel.circ(80, 68, 5, 10)       # 下の花びら
```

### カラーパレット一覧表示プログラム

```python
import pyxel

pyxel.init(160, 120)

def update():
    pass

def draw():
    pyxel.cls(0)

    # 16色を4×4で表示
    for i in range(16):
        x = (i % 4) * 40 + 10
        y = (i // 4) * 25 + 10
        pyxel.rect(x, y, 30, 20, i)
        pyxel.text(x + 5, y + 5, str(i), 7 if i == 0 else 0)

pyxel.run(update, draw)
```

頑張って素敵なプロフィールカードを作ってみましょう！ 🎨✨
